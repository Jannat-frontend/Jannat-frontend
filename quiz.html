<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jannat Foundation Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body class="bg-blue-50 min-h-screen flex items-center justify-center p-4">

  <div class="w-full max-w-md bg-white rounded-2xl shadow-lg p-6">
    <div id="quiz-container" class="text-center space-y-4">
      <h1 class="text-2xl font-bold text-blue-700 mb-4">Jannat Foundation Quiz</h1>
      <p class="text-gray-600">Please pay ₹20 to attempt this Quiz.</p>
      <button id="pay-now" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-xl font-semibold transition">Pay ₹20 to Start Quiz</button>
    </div>
  </div>

  <audio id="correct-sound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  <audio id="wrong-sound" src="https://actions.google.com/sounds/v1/cartoon/cartoon_boing.ogg"></audio>

  <script>
    const questions = [
      { question: "Consider the following statements regarding impeachment of the President: 1. Process of impeachment to remove President from the office can be initiated only on grounds of proved misbehavior or incapacity. 2. The impeachment charges can be initiated by either House of Parliament. 3. The nominated members of either House of Parliament can not participate in the impeachment of the President. Which of the statements given above is/are correct?", options: ["1 and 2 only", "1 and 3 only", "2 only", "1, 2 and 3"], answer: "2 only", difficulty: "hard" },
    { question: "Recently, the government approved construction of the longest bridge connecting Dhubri and Phulbari...", options: ["Bandra-Worli Sea Link", "Bogibeel Bridge", "Patna-Hajipur Mahatma Gandhi Setu", "Dhola Sadiya Bhupen Hazarika Setu"], answer: "Dhola Sadiya Bhupen Hazarika Setu", difficulty: "easy" },
    { question: "With respect to the national freedom movement, consider the following statements about Phoenix Settlement...", options: ["1 only", "2 only", "Both 1 and 2", "Neither 1 nor 2"], answer: "1 only", difficulty: "hard" },
    { question: "Consider the following: 1. Nuclear Command Authority 2. CSIR 3. NDMA 4. DAE...", options: ["1,2,3 only", "2 and 4 only", "1,3 and 4 only", "1,2,3 and 4"], answer: "1,2,3 and 4", difficulty: "hard" },
    { question: "Section 69 of the Information Technology Act, 2000, recently seen in the news is related to:", options: ["Power to issue directions for interception or monitoring or decryption of any information through any computer resource", "Punishment for sending offensive messages through communication service.", "Declaration of Critical Information Infrastructure as protected system.", "Provisions for the Indian Computer Emergency Response Team in dealing with cyber security"],
    answer: "Power to issue directions for interception or monitoring or decryption of any information through any computer resource",
    difficulty: "hard" },
    { question: "Consider the following scenarios: 1. Change in ocean temperatures. 2. Surface runoff and oceanic pollution. 3. Overexposure to sunlight. 4. Extreme low tides. Which of the factors given above can be responsible for coral bleaching?", options: ["1 and 2 only", "3 and 4 only", "1, 2 and 3 only", "1, 2, 3 and 4"], answer: "1, 2, 3 and 4", difficulty: "easy" },
    { question: "Consider the following statements in regard to Community Reserves: 1. They can be set up only in private or community lands. 2. They are declared by the National Board for Wildlife after consultation with the state governments. 3. Agricultural activities are strictly prohibited in the Community Reserves. Which of the statements given above is/are correct?", options: ["1 only", "2 only", "2 and 3 only", "1, 2 and 3"], answer: "1 only", difficulty: "hard" },
    { question: "Which of the following statements is not correct regarding Earthquakes?", options: ["The point on the surface nearest to the focus is called epicentre.", "The Shadow Zone of S-Waves is larger as compared to that of P-Waves of Earthquake.", "Richter Scale is used for measuring the intensity of an earthquake.", "Earthquakes may lead to Soil Liquefaction, Fires and Floods."], answer: "The point on the surface nearest to the focus is called epicentre.",
    difficulty: "easy" },
    { question: "Which of the following is/are correct with reference to the United Nations TIR (Transports Internationaux Routiers) Convention?", options: ["It facilitates the hassle free international carriage of goods between different customs offices.", "Goods under TIR are strictly excluded from inspection at border crossings.", "India has not yet ratified the convention."], answer: "It facilitates the hassle free international carriage of goods between different customs offices.",
    difficulty: "hard" },
    { question: "With reference to Mughal period 'muqaddams' were:", options: ["Judicial officer at province", "Head of artisan community", "Worker in Mughal karkhanas", "Village level officer"], answer: "Village level officer",
    difficulty: "hard" },
    { question: "In the context of Indian polity, consider the following statements regarding the doctrine of pleasure: 1. It is only applicable to persons who are members of the All-India Services and Central Services not to the members of State services. 2. It is used to remove Comptroller and Auditor General of India and Chief Election Commissioner from their office.", options: ["1 only", "2 only", "Both 1 and 2", "Neither 1 nor 2"], answer: "Neither 1 nor 2", difficulty: "easy" },
    { question: "Which of the following is/are considered as amendments to the Constitution under Article 368?", options: ["Admission or establishment of new states.", "Cession of Indian territory to a foreign country.", "Settlement of a boundary dispute between India and another country."], answer: "Cession of Indian territory to a foreign country.", difficulty: "hard" },
    { question: "Which among the following rights have been granted by the Consumer Protection Act, 1986?", options: ["Right to choose", "Right to consumer education", "Right to seek redressal"], answer: "Right to choose, Right to consumer education, Right to seek redressal", difficulty: "easy" }
    ];

let currentQuestion = 0;
let score = 0;

    document.getElementById("pay-now").addEventListener("click", () => {
      const options = {
        key: "rzp_test_OUGnz1rs9k9vFW", 
        amount: 2000,
        currency: "INR",
        name: "Jannat Foundation",
        description: "Quiz Attempt Fee",
        handler: function () {
          startQuiz();
        },
        prefill: {
          name: "Candidate"
        },
        theme: { color: "#3399cc" }
      };
      const rzp1 = new Razorpay(options);
      rzp1.open();
    });


    function startQuiz() {
      showQuestion();
    }
    function showQuestion() {
      if (currentQuestion >= 5) {
        document.getElementById("quiz-container").innerHTML = `
          <h2 class="text-2xl font-bold text-green-600 mb-4">Quiz Completed!</h2>
          <p class="text-gray-600">Your Score: ${score}/5</p>

          <button onclick="location.reload()" class="mt-4 bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-xl">Play Again</button>
        `;
        return;
      }

      const q = questions[currentQuestion];
      document.getElementById("quiz-container").innerHTML = `
        <h1 class="text-2xl font-bold text-blue-700 mb-4">Jannat Foundation Quiz</h1>
        <p class="text-gray-700 mb-4">Q${currentQuestion + 1}: ${q.question}</p>
        <div id="options" class="space-y-2">
      ${q.options.map((opt, idx) => `
        <button onclick="checkAnswer(this, '${opt}', '${q.answer}')" class="block w-full bg-gray-200 hover:bg-gray-300 py-2 rounded-xl transition">${String.fromCharCode(65 + idx)}. ${opt}</button>
      `).join('')}
        </div>
        <div class="flex justify-center items-center mt-4 space-x-2">
          <img src="https://img.icons8.com/ios-filled/24/000000/time.png"/>
          <span id="timer" class="text-gray-700">30s</span>
        </div>
      `;
      startTimer();
    }

function checkAnswer(selected, correct) {
  const allButtons = document.querySelectorAll("#quiz-container button");
  
  allButtons.forEach(btn => {
    btn.disabled = true; // Disable all buttons after an answer
    if (btn.innerText.includes(correct)) {
      btn.classList.add("bg-green-200", "text-green-700", "font-semibold"); // Correct option in GREEN
    }
    if (btn.innerText.includes(selected) && !btn.innerText.includes(correct)) {
      btn.classList.add("bg-red-200", "text-red-700", "font-semibold"); // Selected wrong option in RED
    }
  });

  if (selected === correct) {
    score++;
    document.getElementById("correct-sound").play();
  } else {
    document.getElementById("wrong-sound").play();
  }

  currentQuestion++;

  // Wait 1 second after showing red/green, then next question
  setTimeout(showQuestion, 1000);
}

    function startTimer() {
      let time = 25;
      const timer = document.getElementById("timer");
      const interval = setInterval(() => {
        time--;
        timer.textContent = time + 's';
        if (time <= 0) {
          clearInterval(timerinterval);
          currentQuestion++;
          showQuestion();
        }
      }, 1000);
    }
  </script>
</body>
</html>
<script>
    const backendURL = "https://jannat-backend.onrender.com";